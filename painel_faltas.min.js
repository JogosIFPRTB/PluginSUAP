javascript:(function(){const painelAntigo=document.getElementById("painelFaltasResumo");if(painelAntigo)painelAntigo.remove();const aulasMinistradasEl=Array.from(document.querySelectorAll(".list-item dt")).find(el=>el.textContent.trim()==="Aulas Ministradas");const totalAulas=aulasMinistradasEl?parseInt(aulasMinistradasEl.nextElementSibling.textContent.trim().split(%22%20de%20%22)[0]):0;const%20limiteFaltas=totalAulas*0.25;const%20alertaLaranja=limiteFaltas-2;const%20cursoEl=Array.from(document.querySelectorAll(%22.list-item%20dt%22)).find(el=%3Eel.textContent.trim()===%22Curso%22);const%20nomeCursoCompleto=cursoEl?cursoEl.nextElementSibling.textContent.trim().split(%22%20-%20%22)[1]:%22%22;const%20nomeCurso=nomeCursoCompleto.replace(/\s*\(Campus.*?\)/i,%22%22).trim();const%20disciplinaH2=document.querySelector(%22.title-container%20h2%22);const%20nomeDisciplina=disciplinaH2?disciplinaH2.textContent.trim().split(%22%20-%20%22)[2]:%22%22;const%20profEl=Array.from(document.querySelectorAll(%22.list-item%20dt%22)).find(el=%3Eel.textContent.trim()===%22Professores%22);const%20nomeProfessor=profEl?profEl.nextElementSibling.textContent.trim().split(%22%20(%22)[0]:%22%22;const%20alunos=[];const%20alunosVermelhos=[];const%20linhas=document.querySelectorAll(%22#table_faltas%20tbody%20tr%22);linhas.forEach(tr=%3E{const%20nomeEl=tr.querySelector(%22td%20a[href*='/edu/aluno/']%22);const%20nome=nomeEl?nomeEl.textContent.trim():%22Aluno%20n%C3%A3o%20identificado%22;const%20inputs=tr.querySelectorAll(%22input[type='text']%22);let%20totalFaltas=0;inputs.forEach(input=%3E{const%20val=parseInt(input.value);if(!isNaN(val)){totalFaltas+=val;if(val%3E0)input.style.backgroundColor=%22#ffcccc%22}});const%20frequencia=totalAulas%3E0?((1-totalFaltas/totalAulas)*100).toFixed(2):%220.00%22;let%20cor=%22white%22;if(totalFaltas%3ElimiteFaltas){tr.style.border=%222px%20solid%20red%22;cor=%22red%22;alunosVermelhos.push({nome,total:totalFaltas,frequencia})}else%20if(totalFaltas%3EalertaLaranja){tr.style.border=%222px%20solid%20orange%22;cor=%22orange%22}if(totalFaltas%3E0){alunos.push({nome,total:totalFaltas,frequencia,cor})}});const%20painel=document.createElement(%22div%22);painel.id=%22painelFaltasResumo%22;painel.style=%22position:fixed;top:10px;right:10px;z-index:9999;background:#000;border:2px%20solid%20#000;border-radius:8px;padding:12px;width:380px;max-height:90vh;overflow-y:auto;color:white;font-family:Arial,sans-serif%22;painel.innerHTML=%60%3Ch3%20style='margin-top:0;'%3E%F0%9F%93%8B%20Resumo%20de%20Faltas%3Cbr%3E%3Csmall%3E${nomeCurso}%20-%20${nomeDisciplina}%3C/small%3E%3C/h3%3E%60;let%20textoCopiar=%60Resumo%20de%20faltas%20da%20disciplina\n${nomeDisciplina}\n${nomeCurso}\n(total%20de%20aulas:%20${totalAulas})\n%60;const%20ul=document.createElement(%22ul%22);ul.style.paddingLeft=%2220px%22;alunos.forEach((aluno,i)=%3E{const%20li=document.createElement(%22li%22);li.textContent=%60${aluno.nome}%20-%20${aluno.total}%20faltas%20-%20${aluno.frequencia}%%60;li.style.color=aluno.cor;ul.appendChild(li);textoCopiar+=%60${i+1}.%20${aluno.nome}%20-%20${aluno.total}%20faltas%20-%20${aluno.frequencia}%\n%60});painel.appendChild(ul);const%20botaoCopiar=document.createElement(%22button%22);botaoCopiar.textContent=%60%F0%9F%93%8B%20Copiar%60;botaoCopiar.style=%22margin-top:10px;padding:6px%2010px;border:none;border-radius:5px;background-color:#0066cc;color:#fff;cursor:pointer%22;botaoCopiar.onclick=()=%3E{navigator.clipboard.writeText(textoCopiar).then(()=%3E{botaoCopiar.textContent=%22%E2%9C%85%20Copiado!%22;setTimeout(()=%3EbotaoCopiar.textContent=%60%F0%9F%93%8B%20Copiar%60,2000)})};painel.appendChild(botaoCopiar);const%20botaoGmail=document.createElement(%22button%22);botaoGmail.textContent=%22%F0%9F%93%A8%20Enviar%20SEPAE%22;botaoGmail.style=%22margin-top:10px;margin-left:10px;padding:6px%2010px;background:#28a745;color:#fff;border:none;border-radius:5px;cursor:pointer%22;botaoGmail.onclick=()=%3E{const%20assunto=encodeURIComponent(%22Alunos%20com%20baixa%20frequ%C3%AAncia%22);const%20corpo=encodeURIComponent(%60Prezados,\n\nSolicito%20verifica%C3%A7%C3%A3o%20da%20seguinte%20lista%20de%20alunos%20da%20disciplina%20${nomeDisciplina},%20curso%20${nomeCurso},%20que%20est%C3%A3o%20com%20frequ%C3%AAncia%20abaixo%20de%2075%:\n\n%60+alunosVermelhos.map((a,i)=%3E%60${i+1}.%20${a.nome}%20-%20${a.total}%20faltas%20-%20${a.frequencia}%%20de%20frequ%C3%AAncia%60).join(%22\n%22)+%60\n\nAtenciosamente,\n${nomeProfessor}%60);const%20url=%60https://mail.google.com/mail/?view=cm&fs=1&to=sepae.tb@ifpr.edu.br&su=${assunto}&body=${corpo}%60;window.open(url,%22_blank%22)};painel.appendChild(botaoGmail);const%20botaoFechar=document.createElement(%22button%22);botaoFechar.textContent=%22%E2%9D%8C%20Fechar%22;botaoFechar.style=%22margin-top:10px;margin-left:10px;padding:6px%2010px;background:#990000;color:#fff;border:none;border-radius:5px;cursor:pointer%22;botaoFechar.onclick=()=%3Epainel.remove();painel.appendChild(botaoFechar);document.body.appendChild(painel);})();
